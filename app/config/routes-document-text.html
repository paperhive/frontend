<document-text
  revision="$ctrl.activeRevision"
  access="$ctrl.documentCtrl.revisionAccess[$ctrl.activeRevision.revision]"
  latest-accessible-revision="$ctrl.documentCtrl.latestAccessibleRevision"
  discussions="$ctrl.discussionsByRevision[$ctrl.activeRevision.revision]"
  filtered-discussions="$ctrl.filteredDiscussions"
  viewport-offset-top="$root.navbarSize.height + subnavSize.height"
  expanded="!$ctrl.sidenavOpen"
  anchor="$ctrl.anchor"
  search-str="$ctrl.searchStr"
  search-match-index="$ctrl.searchMatchIndex"
  on-discussion-submit="$ctrl.discussionsCtrl.discussionSubmit(discussion)"
  on-discussion-update="$ctrl.discussionsCtrl.discussionUpdate(discussion)"
  on-discussion-delete="$ctrl.discussionsCtrl.discussionDelete(discussion)"
  on-reply-submit="$ctrl.discussionsCtrl.replySubmit(reply)"
  on-reply-update="$ctrl.discussionsCtrl.replyUpdate(reply)"
  on-reply-delete="$ctrl.discussionsCtrl.replyDelete(reply)"
  on-pdf-info-update="$ctrl.pdfInfo = pdfInfo"
  on-search-matches-update="$ctrl.searchMatches = searchMatches; $ctrl.searchMatchIndex = searchMatches.length > 0 ? 0 : undefined"
></document-text>`
