<p ng-if="!$ctrl.documentSubscriptions.length">
  This user did not yet subscribe to any documents.
</p>
<div ng-if="$ctrl.documentSubscriptions.length" class="row">
  <div class="col-sm-12">
    <div class="ph-lg-margin-top ph-fade-in ph-fade-out ph-search-hit" ng-repeat="documentSubscription in $ctrl.documentSubscriptions">
      <h4>
        <a href="./documents/items/{{documentSubscription.documentItems[0].id}}" title="{{documentSubscription.documentItems[0].metadata.title}}">
          <mathjax body="documentSubscription.documentItems[0].metadata.title"></mathjax>
        </a>
      </h4>
      <p>
        <span ng-repeat="author in documentSubscription.documentItems[0].metadata.authors">
          {{author.name}}{{$last ? '' : ', '}}
        </span>
        <small class="text-muted ph-sm-margin-left">
          {{documentItem.metadata.publishedAt | date: 'yyyy'}}
        </small>
      </p>
      <p class="small">
        <span ng-show="documentSubscription.documentItems[0].public" class="label label-success">Public</span>
        <span ng-show="documentSubscription.documentItems[0].metadata.isOpenAccess" class="label label-success">Open Access</span>
      </p>
      <div class="ph-sm-margin-top">
        <small>
          <mathjax
            body="(documentSubscription.documentItems[0].metadata.abstract | limitTo: 220) + (documentSubscription.documentItems[0].metadata.abstract.length > 220 ? '&hellip;' : '')"
          ></mathjax>
        </small>
      </div>
    </div>
  </div>
</div>
